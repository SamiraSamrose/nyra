<!-- ============================================
     frontend/templates/prompt_builder.html
     ============================================ -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Builder - NYRA</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/dashboard.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="logo-text">NYRA</h1>
                    <p class="logo-subtitle">Prompt Builder</p>
                </div>
                <nav class="navigation">
                    <a href="/" class="nav-link">Home</a>
                    <a href="/dashboard" class="nav-link">Dashboard</a>
                    <a href="/analytics" class="nav-link">Analytics</a>
                    <a href="/sql-optimizer" class="nav-link">SQL Optimizer</a>
                </nav>
            </div>
        </header>

        <section class="dashboard-hero">
            <h2>Visual Prompt Chain Builder</h2>
            <p>Build complex prompts with drag-and-drop blocks and chain operations</p>
        </section>

        <section style="background: white; padding: 2rem; border-radius: 1rem; margin: 2rem 0;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>Prompt Blocks</h3>
                <button 
                    onclick="addPromptBlock()" 
                    style="padding: 0.75rem 1.5rem; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border: none; border-radius: 0.5rem; font-weight: 600; cursor: pointer;"
                >
                    + Add Block
                </button>
            </div>
            
            <div id="promptBlocksContainer" style="display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem;">
                <!-- Blocks will be added here dynamically -->
            </div>
            
            <button 
                onclick="addPromptBlock()" 
                class="add-block-button"
            >
                + Add New Prompt Block
            </button>
        </section>

        <section style="background: white; padding: 2rem; border-radius: 1rem; margin: 2rem 0;">
            <h3 style="margin-bottom: 1rem;">Prompt Preview</h3>
            <div class="prompt-preview">
                <div class="prompt-preview-title">Generated Prompt:</div>
                <div id="promptPreview" class="prompt-preview-content">
                    Your prompt will appear here as you build...
                </div>
            </div>
            
            <div style="margin-top: 1.5rem; display: flex; gap: 1rem;">
                <button 
                    onclick="executePromptChain()" 
                    style="padding: 0.75rem 2rem; background: linear-gradient(135deg, #10b981, #059669); color: white; border: none; border-radius: 0.5rem; font-weight: 600; cursor: pointer;"
                >
                    Execute Prompt Chain
                </button>
                <button 
                    onclick="location.reload()" 
                    style="padding: 0.75rem 2rem; background: #64748b; color: white; border: none; border-radius: 0.5rem; font-weight: 600; cursor: pointer;"
                >
                    Reset All
                </button>
            </div>
        </section>

        <section id="chainOutput" style="margin: 2rem 0;">
            <!-- Execution results will appear here -->
        </section>

        <section style="background: white; padding: 2rem; border-radius: 1rem; margin: 2rem 0;">
            <h3 style="margin-bottom: 1rem;">Prompt Templates</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                <div style="padding: 1.5rem; background: linear-gradient(135deg, #f8fafc, #e0e7ff); border-radius: 0.5rem; cursor: pointer; transition: transform 0.2s;"
                     onmouseover="this.style.transform='translateY(-4px)'"
                     onmouseout="this.style.transform='translateY(0)'">
                    <h4 style="color: #3b82f6; margin-bottom: 0.5rem;">Content Writer</h4>
                    <p style="font-size: 0.875rem; color: #64748b; margin-bottom: 1rem;">Generate blog posts and articles</p>
                    <button style="padding: 0.5rem 1rem; background: #3b82f6; color: white; border: none; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">
                        Load Template
                    </button>
                </div>
                
                <div style="padding: 1.5rem; background: linear-gradient(135deg, #f8fafc, #fef3c7); border-radius: 0.5rem; cursor: pointer; transition: transform 0.2s;"
                     onmouseover="this.style.transform='translateY(-4px)'"
                     onmouseout="this.style.transform='translateY(0)'">
                    <h4 style="color: #f59e0b; margin-bottom: 0.5rem;">Code Assistant</h4>
                    <p style="font-size: 0.875rem; color: #64748b; margin-bottom: 1rem;">Generate and review code</p>
                    <button style="padding: 0.5rem 1rem; background: #f59e0b; color: white; border: none; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">
                        Load Template
                    </button>
                </div>
                
                <div style="padding: 1.5rem; background: linear-gradient(135deg, #f8fafc, #d1fae5); border-radius: 0.5rem; cursor: pointer; transition: transform 0.2s;"
                     onmouseover="this.style.transform='translateY(-4px)'"
                     onmouseout="this.style.transform='translateY(0)'">
                    <h4 style="color: #10b981; margin-bottom: 0.5rem;">Data Analyst</h4>
                    <p style="font-size: 0.875rem; color: #64748b; margin-bottom: 1rem;">Analyze and visualize data</p>
                    <button style="padding: 0.5rem 1rem; background: #10b981; color: white; border: none; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">
                        Load Template
                    </button>
                </div>
                
                <div style="padding: 1.5rem; background: linear-gradient(135deg, #f8fafc, #e9d5ff); border-radius: 0.5rem; cursor: pointer; transition: transform 0.2s;"
                     onmouseover="this.style.transform='translateY(-4px)'"
                     onmouseout="this.style.transform='translateY(0)'">
                    <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Research Assistant</h4>
                    <p style="font-size: 0.875rem; color: #64748b; margin-bottom: 1rem;">Summarize research papers</p>
                    <button style="padding: 0.5rem 1rem; background: #8b5cf6; color: white; border: none; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">
                        Load Template
                    </button>
                </div>
            </div>
        </section>
    </div>

    <script src="/static/js/main.js"></script>
    <script>
        // Initialize with one block
        if (typeof addPromptBlock === 'function') {
            setTimeout(() => addPromptBlock(), 100);
        }
    </script>
</body>
</html>