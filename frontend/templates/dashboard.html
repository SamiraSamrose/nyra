<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - NYRA</title>
    <link rel="stylesheet" href="../static/css/main.css">
    <link rel="stylesheet" href="../static/css/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="logo-text">NYRA</h1>
                    <p class="logo-subtitle">Dashboard</p>
                </div>
                <nav class="navigation">
                    <a href="index.html" class="nav-link active">Home</a>
                    <a href="dashboard.html" class="nav-link">Dashboard</a>
                    <a href="analytics.html" class="nav-link">Analytics</a>
                    <a href="prompt-builder.html" class="nav-link">Prompt Builder</a>
                </nav>
            </div>
        </header>

        <section class="dashboard-hero">
            <h2>System Overview</h2>
            <p>Real-time monitoring of NYRA hybrid AI system</p>
        </section>

        <section class="metrics-grid">
            <div class="metric-card">
                <div class="metric-icon" style="background: linear-gradient(135deg, #3b82f6, #2563eb);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                    </svg>
                </div>
                <div class="metric-content">
                    <div class="metric-value" id="onDeviceOps">856</div>
                    <div class="metric-label">On-Device Operations</div>
                    <div class="metric-change positive">+15% today</div>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                </div>
                <div class="metric-content">
                    <div class="metric-value" id="avgLatency">0.65s</div>
                    <div class="metric-label">Average Latency</div>
                    <div class="metric-change positive">-12% improvement</div>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                </div>
                <div class="metric-content">
                    <div class="metric-value" id="privacyScore">98%</div>
                    <div class="metric-label">Privacy Score</div>
                    <div class="metric-change">Excellent</div>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 2v20M2 12h20"/>
                    </svg>
                </div>
                <div class="metric-content">
                    <div class="metric-value" id="hybridSync">324</div>
                    <div class="metric-label">Hybrid AI Syncs</div>
                    <div class="metric-change positive">+8% efficiency</div>
                </div>
            </div>
        </section>

        <section class="charts-section">
            <div class="chart-container">
                <h3>AI Operations Timeline</h3>
                <canvas id="operationsChart"></canvas>
            </div>

            <div class="chart-container">
                <h3>Processing Distribution</h3>
                <canvas id="distributionChart"></canvas>
            </div>
        </section>

        <section class="charts-section">
            <div class="chart-container full-width">
                <h3>API Usage Breakdown</h3>
                <canvas id="apiUsageChart"></canvas>
            </div>
        </section>

        <section class="activity-section">
            <h3>Recent Activity</h3>
            <div class="activity-feed" id="activityFeed">
                <div class="activity-item">
                    <div class="activity-dot nano"></div>
                    <div class="activity-content">
                        <div class="activity-title">Prompt API - On-device processing</div>
                        <div class="activity-time">2 minutes ago</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-dot pro"></div>
                    <div class="activity-content">
                        <div class="activity-title">DevOps Analyzer - Cloud enhancement</div>
                        <div class="activity-time">5 minutes ago</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-dot nano"></div>
                    <div class="activity-content">
                        <div class="activity-title">Translator - Offline translation</div>
                        <div class="activity-time">8 minutes ago</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-dot hybrid"></div>
                    <div class="activity-content">
                        <div class="activity-title">Multi-Agent Task - Hybrid processing</div>
                        <div class="activity-time">12 minutes ago</div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="/static/js/api_client.js"></script>
    <script src="/static/js/visualizations.js"></script>
    <script>
        // Initialize dashboard charts
        document.addEventListener('DOMContentLoaded', () => {
            initializeOperationsChart();
            initializeDistributionChart();
            initializeAPIUsageChart();
            updateMetrics();
            setInterval(updateMetrics, 5000);
        });

        function initializeOperationsChart() {
            const ctx = document.getElementById('operationsChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '24:00'],
                    datasets: [{
                        label: 'On-Device (Nano)',
                        data: [45, 52, 68, 82, 95, 88, 76],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Cloud (Pro)',
                        data: [15, 18, 22, 28, 32, 29, 25],
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    },
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }

        function initializeDistributionChart() {
            const ctx = document.getElementById('distributionChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['On-Device', 'Cloud', 'Hybrid'],
                    datasets: [{
                        data: [65, 25, 10],
                        backgroundColor: ['#3b82f6', '#8b5cf6', '#10b981']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        function initializeAPIUsageChart() {
            const ctx = document.getElementById('apiUsageChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Prompt', 'Summarizer', 'Translator', 'Writer', 'Proofreader', 'Rewriter'],
                    datasets: [{
                        label: 'API Calls',
                        data: [245, 189, 156, 123, 98, 87],
                        backgroundColor: [
                            '#3b82f6', '#10b981', '#f59e0b', 
                            '#8b5cf6', '#ef4444', '#06b6d4'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }

        function updateMetrics() {
            document.getElementById('onDeviceOps').textContent = Math.floor(850 + Math.random() * 20);
            document.getElementById('avgLatency').textContent = (0.6 + Math.random() * 0.15).toFixed(2) + 's';
            document.getElementById('hybridSync').textContent = Math.floor(320 + Math.random() * 10);
        }
    </script>
</body>
</html>

